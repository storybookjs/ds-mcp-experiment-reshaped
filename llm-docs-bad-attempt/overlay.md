# Overlay Component

## Overview
The Overlay component is a low-level utility for creating modal overlays, backdrops, and layered content with portal rendering, providing the foundation for modals, tooltips, and other floating interfaces.

## Key Features
- Portal-based rendering
- Z-index management
- Backdrop handling
- Event management
- Accessibility support
- Performance optimized

## Props Interface
```typescript
type OverlayProps = {
  children: React.ReactNode;
  visible: boolean;
  onClose?: () => void;
  backdrop?: boolean;
  portal?: boolean;
  zIndex?: number;
  className?: string;
  attributes?: React.HTMLAttributes<HTMLDivElement>;
};
```

## Usage Examples

### Basic Overlay
```typescript
import { Overlay, Card, Text, Button, View } from 'reshaped';\nimport { useState } from 'react';\n\nfunction BasicOverlay() {\n  const [visible, setVisible] = useState(false);\n  \n  return (\n    <View gap={4}>\n      <Button onClick={() => setVisible(true)}>\n        Show Overlay\n      </Button>\n      \n      <Overlay\n        visible={visible}\n        onClose={() => setVisible(false)}\n        backdrop\n      >\n        <View\n          style={{\n            position: 'fixed',\n            top: '50%',\n            left: '50%',\n            transform: 'translate(-50%, -50%)'\n          }}\n        >\n          <Card padding={6} maxWidth={80}>\n            <View gap={4}>\n              <Text variant=\"title-4\">Overlay Content</Text>\n              <Text>\n                This content is rendered in an overlay with a backdrop.\n              </Text>\n              <Button onClick={() => setVisible(false)}>\n                Close\n              </Button>\n            </View>\n          </Card>\n        </View>\n      </Overlay>\n    </View>\n  );\n}\n```\n\n### Custom Backdrop Overlay\n```typescript\nimport { Overlay, View, Text, Button } from 'reshaped';\nimport { useState } from 'react';\n\nfunction CustomBackdropOverlay() {\n  const [visible, setVisible] = useState(false);\n  \n  return (\n    <View gap={4}>\n      <Button onClick={() => setVisible(true)}>\n        Show Custom Overlay\n      </Button>\n      \n      <Overlay\n        visible={visible}\n        onClose={() => setVisible(false)}\n        style={{\n          backgroundColor: 'rgba(0, 0, 0, 0.8)',\n          backdropFilter: 'blur(4px)'\n        }}\n      >\n        <View\n          style={{\n            position: 'fixed',\n            bottom: '20px',\n            right: '20px',\n            background: 'var(--rs-color-background-elevation-base)',\n            borderRadius: '12px',\n            padding: '16px',\n            minWidth: '300px',\n            boxShadow: '0 8px 32px rgba(0,0,0,0.2)'\n          }}\n        >\n          <View gap={3}>\n            <Text variant=\"title-6\">Notification</Text>\n            <Text variant=\"body-3\">\n              This is a custom positioned overlay with a blurred backdrop.\n            </Text>\n            <Button size=\"small\" onClick={() => setVisible(false)}>\n              Dismiss\n            </Button>\n          </View>\n        </View>\n      </Overlay>\n    </View>\n  );\n}\n```\n\n### Multiple Overlays\n```typescript\nimport { Overlay, Card, Text, Button, View } from 'reshaped';\nimport { useState } from 'react';\n\nfunction MultipleOverlays() {\n  const [firstVisible, setFirstVisible] = useState(false);\n  const [secondVisible, setSecondVisible] = useState(false);\n  \n  return (\n    <View gap={4}>\n      <Button onClick={() => setFirstVisible(true)}>\n        Show First Overlay\n      </Button>\n      \n      {/* First overlay */}\n      <Overlay\n        visible={firstVisible}\n        onClose={() => setFirstVisible(false)}\n        backdrop\n        zIndex={1000}\n      >\n        <View\n          style={{\n            position: 'fixed',\n            top: '50%',\n            left: '50%',\n            transform: 'translate(-50%, -50%)'\n          }}\n        >\n          <Card padding={6}>\n            <View gap={4}>\n              <Text variant=\"title-5\">First Overlay</Text>\n              <Text>Click the button to open a second overlay on top.</Text>\n              <View direction=\"row\" gap={2}>\n                <Button onClick={() => setSecondVisible(true)}>\n                  Open Second\n                </Button>\n                <Button \n                  variant=\"outline\"\n                  onClick={() => setFirstVisible(false)}\n                >\n                  Close\n                </Button>\n              </View>\n            </View>\n          </Card>\n        </View>\n      </Overlay>\n      \n      {/* Second overlay */}\n      <Overlay\n        visible={secondVisible}\n        onClose={() => setSecondVisible(false)}\n        backdrop\n        zIndex={1100}\n      >\n        <View\n          style={{\n            position: 'fixed',\n            top: '50%',\n            left: '50%',\n            transform: 'translate(-50%, -50%)'\n          }}\n        >\n          <Card padding={6} maxWidth={60}>\n            <View gap={4}>\n              <Text variant=\"title-6\">Second Overlay</Text>\n              <Text variant=\"body-3\">\n                This overlay has a higher z-index and appears above the first one.\n              </Text>\n              <Button onClick={() => setSecondVisible(false)}>\n                Close This Overlay\n              </Button>\n            </View>\n          </Card>\n        </View>\n      </Overlay>\n    </View>\n  );\n}\n```\n\n### Overlay without Portal\n```typescript\nimport { Overlay, Text, View } from 'reshaped';\nimport { useState } from 'react';\n\nfunction NonPortalOverlay() {\n  const [visible, setVisible] = useState(false);\n  \n  return (\n    <View \n      position=\"relative\" \n      style={{ \n        height: '300px',\n        border: '2px dashed var(--rs-color-border-neutral-faded)',\n        overflow: 'hidden'\n      }}\n    >\n      <View padding={4}>\n        <Text variant=\"title-6\">Container Content</Text>\n        <Text variant=\"body-3\">This is the content inside the container.</Text>\n        <Button onClick={() => setVisible(true)} style={{ marginTop: '16px' }}>\n          Show Local Overlay\n        </Button>\n      </View>\n      \n      <Overlay\n        visible={visible}\n        onClose={() => setVisible(false)}\n        portal={false}\n        style={{\n          position: 'absolute',\n          top: 0,\n          left: 0,\n          right: 0,\n          bottom: 0,\n          backgroundColor: 'rgba(255, 255, 255, 0.9)',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center'\n        }}\n      >\n        <View align=\"center\" gap={3}>\n          <Text variant=\"title-6\">Local Overlay</Text>\n          <Text variant=\"body-3\">\n            This overlay is contained within its parent container.\n          </Text>\n          <Button size=\"small\" onClick={() => setVisible(false)}>\n            Close\n          </Button>\n        </View>\n      </Overlay>\n    </View>\n  );\n}\n```\n\n### Loading Overlay\n```typescript\nimport { Overlay, Loader, Text, View, Button } from 'reshaped';\nimport { useState } from 'react';\n\nfunction LoadingOverlay() {\n  const [loading, setLoading] = useState(false);\n  \n  const handleLongRunningTask = async () => {\n    setLoading(true);\n    // Simulate long-running task\n    await new Promise(resolve => setTimeout(resolve, 3000));\n    setLoading(false);\n  };\n  \n  return (\n    <View gap={4}>\n      <Button onClick={handleLongRunningTask} disabled={loading}>\n        {loading ? 'Processing...' : 'Start Long Task'}\n      </Button>\n      \n      <Overlay\n        visible={loading}\n        backdrop\n        style={{\n          backgroundColor: 'rgba(0, 0, 0, 0.5)',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center'\n        }}\n      >\n        <View align=\"center\" gap={4}>\n          <Loader size={8} color=\"primary\" />\n          <View align=\"center\" gap={2}>\n            <Text variant=\"title-6\" color=\"neutral-contrast\">\n              Processing...\n            </Text>\n            <Text variant=\"body-3\" color=\"neutral-faded\">\n              Please wait while we complete your request.\n            </Text>\n          </View>\n        </View>\n      </Overlay>\n    </View>\n  );\n}\n```\n\n### Image Lightbox Overlay\n```typescript\nimport { Overlay, Image, Button, View } from 'reshaped';\nimport { useState } from 'react';\n\nfunction ImageLightbox() {\n  const [lightboxVisible, setLightboxVisible] = useState(false);\n  const imageSrc = '/large-photo.jpg';\n  \n  return (\n    <View>\n      <Image \n        src={imageSrc}\n        alt=\"Click to enlarge\"\n        aspectRatio=\"4/3\"\n        style={{ \n          cursor: 'pointer',\n          maxWidth: '300px'\n        }}\n        onClick={() => setLightboxVisible(true)}\n      />\n      \n      <Overlay\n        visible={lightboxVisible}\n        onClose={() => setLightboxVisible(false)}\n        backdrop\n        style={{\n          backgroundColor: 'rgba(0, 0, 0, 0.9)',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          padding: '20px'\n        }}\n      >\n        <View style={{ position: 'relative', maxWidth: '90vw', maxHeight: '90vh' }}>\n          <Image \n            src={imageSrc}\n            alt=\"Enlarged photo\"\n            fit=\"contain\"\n            style={{ \n              maxWidth: '100%',\n              maxHeight: '100%'\n            }}\n          />\n          <Button\n            variant=\"ghost\"\n            size=\"small\"\n            onClick={() => setLightboxVisible(false)}\n            style={{\n              position: 'absolute',\n              top: '10px',\n              right: '10px',\n              background: 'rgba(255, 255, 255, 0.9)'\n            }}\n          >\n            âœ•\n          </Button>\n        </View>\n      </Overlay>\n    </View>\n  );\n}\n```\n\n## Portal Rendering\n- Renders outside parent DOM hierarchy\n- Avoids z-index and overflow issues\n- Maintains accessibility relationships\n- Better performance for complex layouts\n\n## Z-Index Management\n- Automatic stacking order\n- Custom z-index values\n- Multiple overlay coordination\n- Theme-aware z-index tokens\n\n## Event Handling\n- Click outside to close\n- Escape key support\n- Focus management\n- Event propagation control\n\n## Accessibility\n- Focus trapping for modal overlays\n- ARIA attributes for screen readers\n- Keyboard navigation support\n- Backdrop click handling\n\n## Related Components\n- **Modal**: High-level modal dialogs\n- **Popover**: Positioned content overlays\n- **Tooltip**: Simple overlay hints"